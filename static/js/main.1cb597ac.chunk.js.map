{"version":3,"sources":["components/fetchApi/fetchApi.js","components/SearchBar/SearchBar.js","components/ImageGallery/ImageGallery.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","index.js"],"names":["ApiKey","fetchApi","searchquery","page","link","fetch","then","res","json","SearchBar","state","query","handleChange","event","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autocomplete","autofocus","placeholder","Component","ImageGallery","children","ImageGalleryItem","array","onClick","map","item","key","id","largeImageURL","src","webformatURL","alt","Button","Spinner","color","height","width","App","handleKeyDown","code","closeModal","window","addEventListener","removeEventListener","url","photo","searchQuery","spinner","showModal","popUpUrl","fetchImage","response","prevState","hits","handleFormSubmit","handlePopUp","handleCloseModal","prevProps","prevQuery","nextQuery","triger","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.1cb597ac.chunk.js","sourcesContent":["const ApiKey = '17360273-855f6091d1678ed63207bb8c2';\n\nconst fetchApi = (searchquery, page = 1) => {\n  const link = `https://pixabay.com/api/?q=${searchquery}&page=${page}&key=${ApiKey}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(link).then(res => res.json());\n};\nexport default fetchApi;\n","import React, { Component } from 'react';\n\nexport default class SearchBar extends Component {\n  state = {\n    query: '',\n  };\n  handleChange = event => {\n    this.setState({ query: event.target.value });\n  };\n  handleSubmit = event => {\n    event.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            value={this.state.query}\n            onChange={this.handleChange}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autocomplete=\"off\"\n            autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\n\nconst ImageGallery = ({ children }) => (\n  <ul className=\"ImageGallery\">{children}</ul>\n);\nexport default ImageGallery;\n","import React from 'react';\n\nconst ImageGalleryItem = ({ array, onClick }) => (\n  <>\n    {array.map(item => (\n      <li\n        key={item.id}\n        onClick={() => onClick(item.largeImageURL)}\n        className=\"ImageGalleryItem\"\n      >\n        <img\n          src={item.webformatURL}\n          alt=\"\"\n          className=\"ImageGalleryItem-image\"\n        />\n      </li>\n    ))}\n  </>\n);\nexport default ImageGalleryItem;\n","import React from 'react';\n\nconst Button = ({ onSubmit }) => (\n  <>\n    <button onClick={onSubmit} className=\"Button\">\n      load more\n    </button>\n  </>\n);\nexport default Button;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport React, { Component } from 'react';\nexport default class Spinner extends Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"BallTriangle\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        className=\"spinner\"\n      />\n    );\n  }\n}\n","import React, { Component } from 'react';\nexport default class App extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n  render() {\n    return (\n      <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img src={this.props.url} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport fetchApi from '../fetchApi';\nimport SearchBar from '../SearchBar';\nimport ImageGallery from '../ImageGallery';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Button from '../Button';\nimport Spinner from '../Loader/Loader';\nimport Modal from '../Modal';\nexport default class App extends Component {\n  state = {\n    photo: [],\n    searchQuery: '',\n    page: 1,\n    spinner: false,\n    showModal: false,\n    popUpUrl: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const triger = this.state.page;\n    if (prevQuery !== nextQuery) {\n      this.fetchImage();\n    }\n    if (triger > 2) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchImage = query => {\n    this.setState({ spinner: true });\n\n    const { searchQuery, page } = this.state;\n\n    fetchApi(searchQuery, page).then(response => {\n      this.setState(prevState => ({\n        page: prevState.page + 1,\n        photo: [...prevState.photo, ...response.hits],\n        spinner: false,\n      }));\n    });\n  };\n  handleFormSubmit = query => {\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      photo: [],\n    });\n  };\n\n  handlePopUp = url => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      popUpUrl: url,\n    }));\n  };\n  handleCloseModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      popUpUrl: '',\n    }));\n  };\n  render() {\n    return (\n      <>\n        <SearchBar onSubmit={this.handleFormSubmit} />\n        <ImageGallery>\n          <ImageGalleryItem\n            array={this.state.photo}\n            onClick={this.handlePopUp}\n          />\n        </ImageGallery>\n        {this.state.spinner && <Spinner />}\n        {this.state.photo.length > 0 && !this.state.spinner && (\n          <Button onSubmit={this.fetchImage} />\n        )}\n        {this.state.showModal && (\n          <Modal url={this.state.popUpUrl} closeModal={this.handleCloseModal} />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport '../src/style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}